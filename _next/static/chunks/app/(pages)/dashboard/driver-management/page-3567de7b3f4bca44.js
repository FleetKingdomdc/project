(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9739],{77003:function(e,t,r){Promise.resolve().then(r.bind(r,41999))},41999:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return eG}});var s=r(57437),i=r(2265),a=r(83591),l=r(79378),n=r(28934),d=r(11825),o=r(88363),c=r(60529),m=r(14080);let u=()=>a.N.map(e=>h(e)),p=e=>{let t=l.Q.filter(t=>t.driver===e),r=d._.filter(e=>t.some(t=>t.id===e.trip)),s=o.u.filter(e=>t.some(t=>t.id===e.trip));return{timeManagement:v(t),safetyMetrics:b(t,r),tripMetrics:y(t),efficiencyMetrics:j(t,s)}},f=e=>{let t=l.Q.find(t=>t.driver===e&&t.start_time&&!t.end_time),r=n.W.find(t=>t.driver===e),s="offline",i="offline";return r&&(i=w(r),s=N(t,r)),{status:s,deviceStatus:i}},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=[],s=l.Q.filter(t=>t.driver===e);return s.forEach(t=>S(r,t,e)),d._.filter(e=>s.some(t=>t.id===e.trip)).forEach(t=>C(r,t,e)),c.o.filter(e=>s.some(t=>t.id===e.trip)).forEach(t=>D(r,t,e)),r.sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()).slice(0,t)},x=e=>{if(!e.license_expiry)return"expired";let t=new Date,r=(new Date(e.license_expiry).getTime()-t.getTime())/864e5;return r<0?"expired":r<=30?"expiring":"valid"},h=e=>{let{status:t,deviceStatus:r}=f(e.id),s=_(e.id),i=s?T(s.vehicle):void 0,a=Z(e.id),l=p(e.id),n=g(e.id);return{...e,status:t,deviceStatus:r,currentTrip:s,currentVehicle:i,...a,metrics:l,recentActivity:n}},v=e=>{let t=e.filter(e=>e.end_time&&e.start_time);return{averageTripDuration:t.length>0?t.reduce((e,t)=>e+(new Date(t.end_time).getTime()-new Date(t.start_time).getTime()),0)/t.length/36e5:0,responseTime:k(e),onDutyHours:R(e),breakTimeCompliance:I(e),lastBreakTime:M(e)}},b=(e,t)=>({suddenBrakingCount:z(e,"braking"),suddenAccelerationCount:z(e,"acceleration"),speedViolationCount:t.length,averageSpeedScore:A(t),safetyRating:V(e,t)}),y=e=>{let t=e.filter(e=>e.end_time),r=e.reduce((e,t)=>e+(t.distance_travelled||0),0);return{totalTrips:e.length,completedTrips:t.length,onTimeRate:H(e),totalDistance:r,averageTripsPerDay:Q(e)}},j=(e,t)=>({averageIdleTime:Y(t),fuelEfficiency:O(e),routeAdherence:B(e)}),w=e=>e.battery_level&&e.signal_strength?e.battery_level<15?"critical":0===e.signal_strength?"offline":e.signal_strength<2?"poor":e.signal_strength<4?"good":"excellent":"offline",N=(e,t)=>e?"on-trip":t.signal_strength&&t.signal_strength>0?"available":"offline",_=e=>l.Q.find(t=>t.driver===e&&t.start_time&&!t.end_time),T=e=>m.f.find(t=>t.id===e),Z=e=>{let t=n.W.find(t=>t.driver===e),r=_(e);return{currentLocation:(null==t?void 0:t.latitude)&&(null==t?void 0:t.longitude)?{latitude:t.latitude,longitude:t.longitude,timestamp:t.timestamp||new Date().toISOString()}:(null==r?void 0:r.current_latitude)&&(null==r?void 0:r.current_longitude)?{latitude:r.current_latitude,longitude:r.current_longitude,timestamp:new Date().toISOString()}:void 0,deviceInfo:{batteryLevel:null==t?void 0:t.battery_level,signalStrength:null==t?void 0:t.signal_strength,lastUpdated:(null==t?void 0:t.timestamp)||new Date().toISOString(),osVersion:null==t?void 0:t.os_version}}},S=(e,t,r)=>{t.start_time&&e.push({id:e.length+1,driverId:r,type:"trip",timestamp:t.start_time,description:"Started trip #".concat(t.id),metadata:{tripId:t.id,vehicleId:t.vehicle,location:{latitude:t.current_latitude||0,longitude:t.current_longitude||0}}}),t.end_time&&e.push({id:e.length+1,driverId:r,type:"trip",timestamp:t.end_time,description:"Completed trip #".concat(t.id),metadata:{tripId:t.id,vehicleId:t.vehicle}})},C=(e,t,r)=>{e.push({id:e.length+1,driverId:r,type:"violation",timestamp:t.timestamp,description:"Speed violation recorded at ".concat(t.speed,"km/h"),metadata:{tripId:t.trip,violationType:"speed",location:{latitude:t.latitude,longitude:t.longitude}}})},D=(e,t,r)=>{t.maintenance_time&&e.push({id:e.length+1,driverId:r,type:"maintenance",timestamp:t.maintenance_time,description:"".concat(t.service_type," maintenance performed"),metadata:{tripId:t.trip}})},k=e=>{let t=e.filter(e=>e.scheduled_start_time&&e.start_time).map(e=>{let t=new Date(e.scheduled_start_time).getTime();return new Date(e.start_time).getTime()-t});return t.length>0?t.reduce((e,t)=>e+t,0)/t.length/6e4:0},R=e=>e.reduce((e,t)=>t.start_time&&t.end_time?e+(new Date(t.end_time).getTime()-new Date(t.start_time).getTime())/36e5:e,0),I=e=>{let t=Math.floor(R(e)/4),r=K(e);return t>0?r/t*100:100},M=e=>{let t=[...e].sort((e,t)=>(t.end_time?new Date(t.end_time).getTime():0)-(e.end_time?new Date(e.end_time).getTime():0)).find(e=>e.end_time);return(null==t?void 0:t.end_time)||void 0},z=(e,t)=>Math.floor(5*Math.random()),A=e=>0===e.length?100:Math.max(0,100-5*e.filter(e=>e.speed&&e.speed>0).length),V=(e,t)=>Math.max(0,A(t)-2*(z(e,"braking")+z(e,"acceleration"))),Y=e=>0===e.length?0:e.reduce((e,t)=>t.start_idle_time&&t.end_idle_time?e+(new Date(t.end_idle_time).getTime()-new Date(t.start_idle_time).getTime())/6e4:e,0)/e.length,O=e=>8.5,B=e=>92,E=(e,t)=>t.split(".").reduce((e,t)=>null==e?void 0:e[t],e),F=async e=>{var t;return null!==(t=e.payload)&&void 0!==t&&!!t.status},L=async e=>{var t;return null!==(t=e.payload)&&void 0!==t&&!!t.vehicleId},P=async e=>{var t;return null!==(t=e.payload)&&void 0!==t&&!!t.documentType},U=async e=>{var t;return null!==(t=e.payload)&&void 0!==t&&!!t.exportFormat},K=e=>{let t=0;for(let r=1;r<e.length;r++){let s=new Date(e[r-1].end_time||"").getTime();new Date(e[r].start_time||"").getTime()-s>=18e5&&t++}return t},H=e=>{let t=e.filter(e=>e.end_time);return 0===t.length?0:t.filter(e=>{if(!e.scheduled_start_time||!e.start_time)return!1;let t=new Date(e.scheduled_start_time).getTime();return new Date(e.start_time).getTime()-t<=9e5}).length/t.length*100},Q=e=>{if(0===e.length)return 0;let t=new Set(e.filter(e=>e.start_time).map(e=>new Date(e.start_time).toDateString()));return t.size>0?e.length/t.size:0},W={getAllDrivers:u,getDriverById:e=>{let t=a.N.find(t=>t.id===e);return t?h(t):void 0},getOverviewMetrics:()=>{let e=u(),t=new Date;return{totalCount:a.N.length,activeCount:e.filter(e=>"on-trip"===e.status).length,availableCount:e.filter(e=>"available"===e.status).length,offlineCount:e.filter(e=>"offline"===e.status).length,criticalIssues:{lowBattery:e.filter(e=>void 0!==e.deviceInfo.batteryLevel&&e.deviceInfo.batteryLevel<20).length,poorSignal:e.filter(e=>void 0!==e.deviceInfo.signalStrength&&e.deviceInfo.signalStrength<2).length,offline:e.filter(e=>"offline"===e.deviceStatus).length},licenseAlerts:{expired:e.filter(e=>e.license_expiry&&new Date(e.license_expiry)<t).length,expiringSoon:e.filter(e=>{if(!e.license_expiry)return!1;let r=(new Date(e.license_expiry).getTime()-t.getTime())/864e5;return r>0&&r<=30}).length}}},getDriverTimeline:g,filterDrivers:(e,t)=>e.filter(e=>{var r,s,i;if((null===(r=t.status)||void 0===r?void 0:r.length)&&!t.status.includes(e.status))return!1;if(t.search){let r=t.search.toLowerCase();if(!e.fullname.toLowerCase().includes(r)&&!(null===(i=e.license_number)||void 0===i?void 0:i.toLowerCase().includes(r)))return!1}if(t.dateRange){let r=new Date(e.created_at),s=new Date(t.dateRange.start),i=new Date(t.dateRange.end);if(r<s||r>i)return!1}return(void 0===t.performanceThreshold||!(e.metrics.safetyMetrics.safetyRating<t.performanceThreshold))&&(null===(s=t.regions)||void 0===s||!s.length||!!e.state&&!!t.regions.includes(e.state))&&(!t.documentStatus||x(e)===t.documentStatus)}),sortDrivers:(e,t)=>[...e].sort((e,r)=>{let s=E(e,t.field),i=E(r,t.field);return s<i?"asc"===t.direction?-1:1:s>i?"asc"===t.direction?1:-1:0}),executeBulkOperation:async e=>{try{switch(e.operation){case"status_update":return F(e);case"vehicle_assign":return L(e);case"document_update":return P(e);case"export":return U(e);default:return!1}}catch(e){return console.error("Bulk operation failed:",e),!1}}},G=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,r]=(0,i.useState)(e.initialFilters||{}),[s,a]=(0,i.useState)(e.initialSort||{field:"fullname",direction:"asc"}),[l,n]=(0,i.useState)([]),[d,o]=(0,i.useState)(!1),[c,m]=(0,i.useState)(null),u=(0,i.useMemo)(()=>{try{let e=W.getAllDrivers();return Object.keys(t).length&&(e=W.filterDrivers(e,t)),s&&(e=W.sortDrivers(e,s)),e}catch(e){return m("Failed to fetch drivers"),[]}},[t,s]),p=(0,i.useMemo)(()=>{let e=W.getOverviewMetrics(),t=e.criticalIssues.lowBattery+e.criticalIssues.poorSignal+e.criticalIssues.offline;return{...e,criticalIssues:{...e.criticalIssues,total:t}}},[u]),f=(0,i.useCallback)(e=>{n([e])},[]),g=(0,i.useCallback)(e=>{n(e)},[]),x=(0,i.useCallback)(()=>{n([])},[]),h=(0,i.useCallback)(e=>{r(t=>({...t,...e}))},[]),v=(0,i.useCallback)(e=>{a(e)},[]);return{drivers:u,selectedDrivers:l,overviewMetrics:p,isLoading:d,error:c,filters:t,sortOption:s,selectDriver:f,selectMultipleDrivers:g,clearSelection:x,updateFilters:h,updateSort:v,executeBulkOperation:(0,i.useCallback)(async e=>{o(!0);try{let t=await W.executeBulkOperation(e);return t||m("Bulk operation failed"),t}catch(e){return m("Failed to execute bulk operation"),!1}finally{o(!1)}},[]),getDriverDetails:(0,i.useCallback)(async e=>{try{return await W.getDriverById(e)||null}catch(e){return m("Failed to fetch driver details"),null}},[]),getDriverTimeline:(0,i.useCallback)(async(e,t)=>{try{return await W.getDriverTimeline(e,t)}catch(e){return m("Failed to fetch driver timeline"),[]}},[])}};var $=r(95805),q=r(49663),J=r(91723),X=r(63639),ee=r(71594),et=r(24525),er=r(12381),es=r(40279),ei=r(3032),ea=r(10407),el=r(30401),en=r(40519),ed=r(93448);let eo=ei.fC,ec=ei.xz;ei.ZA,ei.Uv,ei.Tr,ei.Ee,i.forwardRef((e,t)=>{let{className:r,inset:i,children:a,...l}=e;return(0,s.jsxs)(ei.fF,{ref:t,className:(0,ed.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",i&&"pl-8",r),...l,children:[a,(0,s.jsx)(ea.Z,{className:"ml-auto"})]})}).displayName=ei.fF.displayName,i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,s.jsx)(ei.tu,{ref:t,className:(0,ed.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...i})}).displayName=ei.tu.displayName;let em=i.forwardRef((e,t)=>{let{className:r,sideOffset:i=4,...a}=e;return(0,s.jsx)(ei.Uv,{children:(0,s.jsx)(ei.VY,{ref:t,sideOffset:i,className:(0,ed.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...a})})});em.displayName=ei.VY.displayName;let eu=i.forwardRef((e,t)=>{let{className:r,inset:i,...a}=e;return(0,s.jsx)(ei.ck,{ref:t,className:(0,ed.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",i&&"pl-8",r),...a})});eu.displayName=ei.ck.displayName;let ep=i.forwardRef((e,t)=>{let{className:r,children:i,checked:a,...l}=e;return(0,s.jsxs)(ei.oC,{ref:t,className:(0,ed.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:a,...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(ei.wU,{children:(0,s.jsx)(el.Z,{className:"h-4 w-4"})})}),i]})});ep.displayName=ei.oC.displayName,i.forwardRef((e,t)=>{let{className:r,children:i,...a}=e;return(0,s.jsxs)(ei.Rk,{ref:t,className:(0,ed.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...a,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(ei.wU,{children:(0,s.jsx)(en.Z,{className:"h-2 w-2 fill-current"})})}),i]})}).displayName=ei.Rk.displayName,i.forwardRef((e,t)=>{let{className:r,inset:i,...a}=e;return(0,s.jsx)(ei.__,{ref:t,className:(0,ed.cn)("px-2 py-1.5 text-sm font-semibold",i&&"pl-8",r),...a})}).displayName=ei.__.displayName;let ef=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,s.jsx)(ei.Z0,{ref:t,className:(0,ed.cn)("-mx-1 my-1 h-px bg-muted",r),...i})});ef.displayName=ei.Z0.displayName;var eg=r(15291),ex=r(33804),eh=r(79820),ev=r(73247),eb=r(90740),ey=r(82431),ej=r(37806);let ew=e=>({available:"bg-success-100 text-success-700 hover:bg-success-200","on-trip":"bg-primary-100 text-primary-700 hover:bg-primary-200",offline:"bg-secondary-100 text-secondary-700 hover:bg-secondary-200",active:"bg-info-100 text-info-700 hover:bg-info-200"})[e]||"bg-muted text-muted-foreground hover:bg-muted/80";var eN=r(9270);let e_=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,s.jsx)(eN.fC,{ref:t,className:(0,ed.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...i,children:(0,s.jsx)(eN.z$,{className:(0,ed.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(el.Z,{className:"h-4 w-4"})})})});e_.displayName=eN.fC.displayName;var eT=r(22135),eZ=r(40875),eS=r(83774),eC=r(17684),eD=r(69174);let ek=e=>e>=90?"text-success-600":e>=70?"text-warning-600":"text-destructive-600",eR=[{id:"select",header:e=>{let{table:t}=e;return(0,s.jsx)(e_,{checked:t.getIsAllPageRowsSelected(),onCheckedChange:e=>t.toggleAllPageRowsSelected(!!e),"aria-label":"Select all",className:"border border-border"})},cell:e=>{let{row:t}=e;return(0,s.jsx)(e_,{checked:t.getIsSelected(),onCheckedChange:e=>t.toggleSelected(!!e),"aria-label":"Select row",className:"border border-border mb-2"})},enableSorting:!1},{accessorKey:"id",header:e=>{let{column:t}=e,r=t.getIsSorted();return(0,s.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,s.jsx)("span",{children:"ID"}),r&&("asc"===r?(0,s.jsx)(eT.Z,{className:"ml-2 h-4 w-4"}):(0,s.jsx)(eZ.Z,{className:"ml-2 h-4 w-4"}))]})},cell:e=>{let{row:t}=e;return(0,s.jsx)("span",{className:"text-muted-foreground",children:t.getValue("id")})}},{accessorKey:"fullname",header:e=>{let{column:t}=e,r=t.getIsSorted();return(0,s.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,s.jsx)("span",{children:"Driver Name"}),r&&("asc"===r?(0,s.jsx)(eT.Z,{className:"ml-2 h-4 w-4"}):(0,s.jsx)(eZ.Z,{className:"ml-2 h-4 w-4"}))]})},cell:e=>{let{row:t}=e,r=t.getValue("fullname"),i=r.split(" ").map(e=>e[0]).join("");return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-sm font-medium text-primary-700",children:i})}),(0,s.jsx)("span",{className:"font-medium",children:r})]})}},{accessorKey:"status",header:e=>{let{column:t}=e,r=t.getIsSorted();return(0,s.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,s.jsx)("span",{children:"Status"}),r&&("asc"===r?(0,s.jsx)(eT.Z,{className:"ml-2 h-4 w-4"}):(0,s.jsx)(eZ.Z,{className:"ml-2 h-4 w-4"}))]})},cell:e=>{let{row:t}=e;return(0,s.jsx)(eD.C,{className:ew(t.getValue("status")),children:t.getValue("status")})},filterFn:(e,t,r)=>!r.length||r.includes(e.getValue(t))},{accessorKey:"currentVehicle.id",header:e=>{let{column:t}=e,r=t.getIsSorted();return(0,s.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,s.jsx)("span",{children:"Current Vehicle"}),r&&("asc"===r?(0,s.jsx)(eT.Z,{className:"ml-2 h-4 w-4"}):(0,s.jsx)(eZ.Z,{className:"ml-2 h-4 w-4"}))]})},cell:e=>{let{row:t}=e;return t.getValue("currentVehicle.id")?(0,s.jsx)("span",{className:"font-medium",children:"vehicleId"}):(0,s.jsx)("span",{className:"text-muted-foreground",children:"Unassigned"})}},{accessorKey:"metrics.safetyMetrics.safetyRating",header:e=>{let{column:t}=e,r=t.getIsSorted();return(0,s.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,s.jsx)("span",{children:"Safety Score"}),r&&("asc"===r?(0,s.jsx)(eT.Z,{className:"ml-2 h-4 w-4"}):(0,s.jsx)(eZ.Z,{className:"ml-2 h-4 w-4"}))]})},cell:e=>{var t;let{row:r}=e,i=null===(t=r.original.metrics)||void 0===t?void 0:t.safetyMetrics,a=null==i?void 0:i.safetyRating;return null==a?(0,s.jsx)("span",{className:"text-muted-foreground",children:"N/A"}):(0,s.jsxs)("span",{className:"font-medium ".concat(ek(a)),children:[a.toFixed(1),"%"]})}},{accessorKey:"metrics.tripMetrics.onTimeRate",header:e=>{let{column:t}=e,r=t.getIsSorted();return(0,s.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,s.jsx)("span",{children:"On-Time Rate"}),r&&("asc"===r?(0,s.jsx)(eT.Z,{className:"ml-2 h-4 w-4"}):(0,s.jsx)(eZ.Z,{className:"ml-2 h-4 w-4"}))]})},cell:e=>{var t,r;let{row:i}=e,a=null===(r=i.original.metrics)||void 0===r?void 0:null===(t=r.tripMetrics)||void 0===t?void 0:t.onTimeRate;return null==a?(0,s.jsx)("span",{className:"text-muted-foreground",children:"N/A"}):(0,s.jsxs)("span",{className:"font-medium",children:[a.toFixed(1),"%"]})}},{accessorKey:"state",header:e=>{let{column:t}=e,r=t.getIsSorted();return(0,s.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,s.jsx)("span",{children:"Region"}),r&&("asc"===r?(0,s.jsx)(eT.Z,{className:"ml-2 h-4 w-4"}):(0,s.jsx)(eZ.Z,{className:"ml-2 h-4 w-4"}))]})},cell:e=>{let{row:t}=e;return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(eS.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{children:t.getValue("state")})]})}},{id:"actions",enableSorting:!1,cell:e=>{let{row:t}=e;return(0,s.jsxs)(eo,{children:[(0,s.jsx)(ec,{asChild:!0,children:(0,s.jsx)(er.z,{variant:"ghost",className:"h-8 w-8 p-0",children:(0,s.jsx)(eC.Z,{className:"h-4 w-4"})})}),(0,s.jsxs)(em,{align:"end",children:[(0,s.jsx)(eu,{children:"View Details"}),(0,s.jsx)(eu,{children:"Edit Driver"}),(0,s.jsx)(ef,{}),(0,s.jsx)(eu,{className:"text-destructive-600",children:"Deactivate"})]})]})}}];var eI=r(13520);let eM=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD",t=new Date,r=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return e.replace("YYYY",r.toString()).replace("MM",s).replace("DD",i)};console.log({today:eM(),customFormat:eM("MM/DD/YYYY")});let ez=["on-trip","available","offline","active"],eA=e=>{var t;let{data:r,onDriverSelect:a,statusFilters:l=[],searchTerm:n=""}=e,[d,o]=(0,i.useState)(n),[c,m]=(0,i.useState)(null),[u,p]=(0,i.useState)([]),[f,g]=(0,i.useState)([]),[x,h]=(0,i.useState)({}),[v,b]=(0,i.useState)({}),y=(0,ee.b7)({data:r,columns:eR,initialState:{pagination:{pageSize:5}},state:{sorting:u,columnFilters:f,columnVisibility:x,rowSelection:v},enableRowSelection:!0,onRowSelectionChange:b,onSortingChange:p,onColumnFiltersChange:g,onColumnVisibilityChange:h,getCoreRowModel:(0,et.sC)(),getFilteredRowModel:(0,et.vL)(),getPaginationRowModel:(0,et.G_)(),getSortedRowModel:(0,et.tj)()});return(0,i.useEffect)(()=>{l.length>0?g(e=>[...e.filter(e=>"status"!==e.id),{id:"status",value:l}]):g(e=>e.filter(e=>"status"!==e.id))},[l]),(0,i.useEffect)(()=>{d?g(e=>[...e.filter(e=>"fullname"!==e.id),{id:"fullname",value:d}]):g(e=>e.filter(e=>"fullname"!==e.id))},[d]),(0,s.jsx)(eh.Zb,{className:"w-full rounded-md",children:(0,s.jsx)(eh.aY,{className:"p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 w-full md:w-auto",children:[(0,s.jsxs)("div",{className:"relative w-full md:w-auto",children:[(0,s.jsx)(ev.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(es.I,{placeholder:"Search drivers...",className:"pl-8 w-full md:w-[250px] bg-card border-border",value:d,onChange:e=>o(e.target.value)})]}),(0,s.jsxs)(eo,{children:[(0,s.jsx)(ec,{asChild:!0,children:(0,s.jsxs)(er.z,{variant:"outline",className:"bg-card border-border",children:[(0,s.jsx)(eb.Z,{className:"mr-2 h-4 w-4"}),c||"Select Status"]})}),(0,s.jsx)(em,{align:"start",className:"w-[200px] bg-card",children:ez.map(e=>(0,s.jsx)(eu,{onClick:()=>m(e),className:c===e?"font-semibold text-destructive-foreground bg-[hsl(var(--gradient-purple-start))] hover:bg-[hsl(var(--gradient-purple-end))] shadow-xl":"",children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,s.jsx)(er.z,{variant:"outline",onClick:()=>{o(""),m(null),g([])},className:"w-full md:w-auto bg-[hsl(var(--gradient-purple-start))] hover:bg-[hsl(var(--gradient-purple-end))] text-destructive-foreground shadow-md",children:(0,s.jsx)(ey.Z,{className:"h-4 w-4 text-destructive-foreground"})})]}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-4 w-full md:w-auto",children:[(0,s.jsxs)(eo,{children:[(0,s.jsx)(ec,{asChild:!0,children:(0,s.jsx)(er.z,{variant:"outline",className:"bg-card border-border",children:"Columns"})}),(0,s.jsx)(em,{align:"end",children:y.getAllColumns().filter(e=>e.getCanHide()).map(e=>(0,s.jsx)(ep,{className:"capitalize",checked:e.getIsVisible(),onCheckedChange:t=>e.toggleVisibility(!!t),children:e.id},e.id))})]}),(0,s.jsx)(er.z,{className:"w-full md:w-auto bg-[hsl(var(--gradient-purple-start))] hover:bg-[hsl(var(--gradient-purple-end))] text-destructive-foreground shadow-md",onClick:()=>{let e=Object.keys(v).map(Number).filter(e=>v[e]),t=e.length>0?e.map(e=>r[e]):r,s=eM("MM/DD/YYYY");(0,eI.j)({data:t,filename:"driversData-".concat(s),sheetName:"Drivers",format:"xlsx"})},children:"Export"}),(0,s.jsxs)(er.z,{className:"w-full md:w-auto bg-[hsl(var(--gradient-purple-start))] hover:bg-[hsl(var(--gradient-purple-end))] text-destructive-foreground shadow-md",children:[(0,s.jsx)(ej.Z,{className:"mr-2 h-4 w-4"}),"Add Driver"]})]})]}),(0,s.jsxs)("div",{className:"space-y-4 md:space-y-2",children:[(0,s.jsx)("div",{className:"rounded-md border border-border",children:(0,s.jsxs)(ex.iA,{children:[(0,s.jsx)(ex.xD,{className:"bg-accent text-muted-foreground",children:y.getHeaderGroups().map(e=>(0,s.jsx)(ex.SC,{children:e.headers.map(e=>(0,s.jsx)(ex.ss,{children:e.isPlaceholder?null:(0,s.jsx)("div",{className:"flex items-left cursor-pointer p-0 hover:bg-secondary/50 transition-colors text-nowrap",onClick:e.column.getToggleSortingHandler(),children:(0,ee.ie)(e.column.columnDef.header,e.getContext())})},e.id))},e.id))}),(0,s.jsx)(ex.RM,{children:(null===(t=y.getRowModel().rows)||void 0===t?void 0:t.length)?y.getRowModel().rows.map(e=>(0,s.jsx)(ex.SC,{"data-state":e.getIsSelected()&&"selected",onClick:()=>a(e.original.id),className:"cursor-pointer text-nowrap",children:e.getVisibleCells().map(e=>(0,s.jsx)(ex.pj,{children:(0,ee.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,s.jsx)(ex.SC,{children:(0,s.jsx)(ex.pj,{colSpan:eR.length,className:"h-24 text-center",children:"No results."})})})]})}),(0,s.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex flex-1 items-center space-x-2",children:[(0,s.jsxs)(eg.Ph,{value:y.getState().pagination.pageSize.toString(),onValueChange:e=>{y.setPageSize(Number(e))},children:[(0,s.jsx)(eg.i4,{className:"h-8 w-[70px]",children:(0,s.jsx)(eg.ki,{placeholder:y.getState().pagination.pageSize})}),(0,s.jsx)(eg.Bw,{side:"top",children:[5,10,15,20,25].map(e=>(0,s.jsx)(eg.Ql,{value:e.toString(),children:e},e))})]}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:[y.getFilteredSelectedRowModel().rows.length," of"," ",y.getFilteredRowModel().rows.length," row(s) selected."]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,s.jsx)(er.z,{variant:"outline",size:"sm",onClick:()=>y.previousPage(),disabled:!y.getCanPreviousPage(),children:"Previous"}),(0,s.jsx)(er.z,{variant:"outline",size:"sm",onClick:()=>y.nextPage(),disabled:!y.getCanNextPage(),children:"Next"})]})]})]})]})})})};var eV=r(31593),eY=r(57662),eO=r(88906),eB=r(42488);let eE=e=>e.split(/\s/).reduce((e,t)=>e+=t.slice(0,1),"");var eF=e=>{var t,r,i;let{selectedDriver:a}=e;return a?(0,s.jsxs)("div",{className:"h-full p-4 space-y-6 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"h-24 w-24 rounded-full bg-primary-100 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-3xl font-semibold text-primary-500",children:eE(a.fullname)})}),(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-2 py-3 w-full",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:a.fullname}),(0,s.jsx)(eD.C,{className:ew(a.status),children:a.status})]})]}),(0,s.jsx)(eV.Z,{orientation:"horizontal"}),(0,s.jsxs)("div",{className:"text-nowrap",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-4",children:"Performance Overview"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"text-2xl font-semibold text-primary-500",children:[null==a?void 0:null===(r=a.metrics)||void 0===r?void 0:null===(t=r.safetyMetrics)||void 0===t?void 0:t.safetyRating,"%"]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"Safety Score"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"text-2xl font-semibold text-primary-500",children:[a.metrics.tripMetrics.onTimeRate,"%"]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"On-Time Rate"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"text-2xl font-semibold text-primary-500",children:[a.metrics.timeManagement.breakTimeCompliance,"%"]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"Break Compliance"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-4",children:"Current Status"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(eY.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{className:"text-sm",children:"Current Vehicle"})]}),(0,s.jsx)("span",{className:"text-sm font-medium",children:(null===(i=a.currentVehicle)||void 0===i?void 0:i.id)||"Unassigned"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(eS.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{className:"text-sm",children:"Region"})]}),(0,s.jsx)("span",{className:"text-sm font-medium",children:a.state})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(eO.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{className:"text-sm",children:"License"})]}),(0,s.jsx)("span",{className:"text-sm font-medium",children:a.license_number})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-4",children:"Recent Activity"}),(0,s.jsx)("div",{className:"space-y-4",children:a.recentActivity.length<=0?(0,s.jsx)("p",{className:"text-center text-muted-foreground text-sm tracking-tight leading-3",children:"No recent activity found!"}):a.recentActivity.slice(0,4).map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(eB.Z,{className:"h-4 w-4 text-primary-500 mt-1"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm",children:e.description}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleString()})]})]},t))})]})]}):(0,s.jsx)("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Select a driver to view details"})},eL=r(61994),eP=e=>{let{title:t,value:r,subtitle:i,icon:a,trend:l,color:n="primary"}=e;return(0,s.jsx)(eh.Zb,{className:"flex-1 rounded-md",children:(0,s.jsx)(eh.aY,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:t}),(0,s.jsx)("h3",{className:"text-2xl font-bold",children:r}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:i})]}),(0,s.jsx)("div",{className:(0,eL.Z)("p-2 rounded-lg",(e=>{let t={primary:"bg-blue-100 text-blue-500",success:"bg-green-100 text-green-500",warning:"bg-yellow-100 text-yellow-500",destructive:"bg-red-100 text-red-500"};return t[e]||t.primary})(n)),children:(0,s.jsx)(a,{size:20})})]})})})},eU=r(85673),eK=r(4988),eH=r(43745);let eQ=e=>{let{icon:t,iconColor:r,label:i,value:a}=e;return(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(t,{className:r,size:16}),(0,s.jsx)("span",{className:"text-sm",children:i})]}),(0,s.jsx)("span",{children:a})]})},eW=e=>{let{overviewMetrics:t,drivers:r}=e,a=i.useMemo(()=>r.filter(e=>e.currentVehicle).length,[r]),l=[{title:"Device Status",metrics:[{icon:eU.Z,iconColor:"text-warning-500",label:"Low Battery",value:t.criticalIssues.lowBattery},{icon:eK.Z,iconColor:"text-warning-500",label:"Poor Signal",value:t.criticalIssues.poorSignal}]},{title:"License Status",metrics:[{icon:eO.Z,iconColor:"text-destructive-500",label:"Expired",value:t.licenseAlerts.expired},{icon:J.Z,iconColor:"text-warning-500",label:"Expiring Soon",value:t.licenseAlerts.expiringSoon}]},{title:"Vehicle Assignment",metrics:[{icon:eY.Z,iconColor:"text-primary-500",label:"Assigned",value:a},{icon:eH.Z,iconColor:"text-muted-foreground",label:"Unassigned",value:r.filter(e=>!e.currentVehicle).length}]}];return(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l.map((e,t)=>(0,s.jsx)(eh.Zb,{className:"rounded-md",children:(0,s.jsxs)(eh.aY,{className:"pt-6",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold mb-4",children:e.title}),(0,s.jsx)("div",{className:"space-y-4",children:e.metrics.map((e,t)=>(0,s.jsx)(eQ,{...e},t))})]})},t))})};var eG=()=>{let{drivers:e,selectedDrivers:t,overviewMetrics:r,selectDriver:a,isLoading:l,error:n}=G();i.useEffect(()=>{e.length>0&&0===t.length&&a(e[0].id)},[e,t,a]);let d=e.find(e=>e.id===t[0])||e[0];if(l)return(0,s.jsx)("div",{children:"Loading..."});if(n)return(0,s.jsxs)("div",{children:["Error: ",n]});let o=[{title:"Total Drivers",value:(null==r?void 0:r.totalCount)||0,subtitle:"Registered drivers",icon:$.Z,trend:5,color:"primary"},{title:"Active Drivers",value:r.activeCount,subtitle:"Currently on trip",icon:q.Z,trend:2,color:"success"},{title:"Available Drivers",value:r.availableCount,subtitle:"Ready for dispatch",icon:J.Z,trend:-3,color:"warning"},{title:"Critical Issues",value:r.criticalIssues.total,subtitle:"Require attention",icon:X.Z,color:"destructive"}];return(0,s.jsx)("div",{className:"md:max-w-[86rem] max-w-[100dvw] overflow-x-auto overflow-y-auto p-4",children:(0,s.jsx)("div",{className:"h-full relative",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[380px,1fr] gap-4 h-full",children:[(0,s.jsx)("div",{className:"space-y-4 p-4 overflow-y-auto bg-card rounded-md shadow-md",children:(0,s.jsx)(eF,{selectedDriver:d})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:o.map(e=>(0,s.jsx)(eP,{...e},e.title))}),(0,s.jsx)(eW,{overviewMetrics:r,drivers:e}),(0,s.jsx)("div",{className:"min-h-[400px]",children:(0,s.jsx)(eA,{data:e,onDriverSelect:a,statusFilters:[],searchTerm:""})})]})]})})})}},69174:function(e,t,r){"use strict";r.d(t,{C:function(){return n}});var s=r(57437);r(2265);var i=r(90535),a=r(93448);let l=(0,i.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:r,...i}=e;return(0,s.jsx)("div",{className:(0,a.cn)(l({variant:r}),t),...i})}},12381:function(e,t,r){"use strict";r.d(t,{z:function(){return o}});var s=r(57437),i=r(2265),a=r(37053),l=r(90535),n=r(93448);let d=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=i.forwardRef((e,t)=>{let{className:r,variant:i,size:l,asChild:o=!1,...c}=e,m=o?a.g7:"button";return(0,s.jsx)(m,{className:(0,n.cn)(d({variant:i,size:l,className:r})),ref:t,...c})});o.displayName="Button"},40279:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var s=r(57437),i=r(2265),a=r(93448);let l=i.forwardRef((e,t)=>{let{className:r,type:i,...l}=e;return(0,s.jsx)("input",{type:i,className:(0,a.cn)("flex h-11 w-full rounded-lg border border-gray-300 bg-white px-4 py-3 text-base shadow-sm transition-all duration-200 file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-gray-700 placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:border-blue-500 hover:border-gray-400 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...l})});l.displayName="Input"},15291:function(e,t,r){"use strict";r.d(t,{Bw:function(){return x},DI:function(){return m},Ph:function(){return c},Ql:function(){return h},i4:function(){return p},ki:function(){return u}});var s=r(57437),i=r(2265),a=r(68856),l=r(40875),n=r(22135),d=r(30401),o=r(93448);let c=a.fC,m=a.ZA,u=a.B4,p=i.forwardRef((e,t)=>{let{className:r,children:i,...n}=e;return(0,s.jsxs)(a.xz,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between whitespace-nowrap rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm shadow-sm transition-all ring-offset-background placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 hover:border-gray-400",r),...n,children:[i,(0,s.jsx)(a.JO,{asChild:!0,children:(0,s.jsx)(l.Z,{className:"h-4 w-4 text-gray-500 transition-transform duration-200 group-data-[state=open]:rotate-180"})})]})});p.displayName=a.xz.displayName;let f=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,s.jsx)(a.u_,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-2 text-gray-500",r),...i,children:(0,s.jsx)(n.Z,{className:"h-4 w-4"})})});f.displayName=a.u_.displayName;let g=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,s.jsx)(a.$G,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-2 text-gray-500",r),...i,children:(0,s.jsx)(l.Z,{className:"h-4 w-4"})})});g.displayName=a.$G.displayName;let x=i.forwardRef((e,t)=>{let{className:r,children:i,position:l="popper",...n}=e;return(0,s.jsx)(a.h_,{children:(0,s.jsxs)(a.VY,{ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-lg border border-gray-200 bg-white text-gray-900 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:l,...n,children:[(0,s.jsx)(f,{}),(0,s.jsx)(a.l_,{className:(0,o.cn)("p-2","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w=[var(--radix-select-trigger-width)]"),children:i}),(0,s.jsx)(g,{})]})})});x.displayName=a.VY.displayName,i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,s.jsx)(a.__,{ref:t,className:(0,o.cn)("px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wide",r),...i})}).displayName=a.__.displayName;let h=i.forwardRef((e,t)=>{let{className:r,children:i,...l}=e;return(0,s.jsxs)(a.ck,{ref:t,className:(0,o.cn)("relative flex w-full cursor-pointer select-none items-center rounded-md py-2.5 pl-3 pr-8 text-sm outline-none transition-colors focus:bg-blue-50 focus:text-blue-700 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 hover:bg-gray-100",r),...l,children:[(0,s.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(a.wU,{children:(0,s.jsx)(d.Z,{className:"h-4 w-4 text-blue-600 font-bold"})})}),(0,s.jsx)(a.eT,{children:i})]})});h.displayName=a.ck.displayName,i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,s.jsx)(a.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-gray-200",r),...i})}).displayName=a.Z0.displayName},31593:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var s=r(57437),i=r(55156),a=r(2265),l=r(93448);let n=a.forwardRef((e,t)=>{let{className:r,orientation:a="horizontal",decorative:n=!0,...d}=e;return(0,s.jsx)(i.f,{ref:t,decorative:n,orientation:a,className:(0,l.cn)("shrink-0 bg-gradient-to-r from-transparent via-gray-300 to-transparent","horizontal"===a?"h-px w-full my-4":"h-full w-px mx-4",r),...d})});n.displayName=i.f.displayName},33804:function(e,t,r){"use strict";r.d(t,{RM:function(){return d},SC:function(){return o},iA:function(){return l},pj:function(){return m},ss:function(){return c},xD:function(){return n}});var s=r(57437),i=r(2265),a=r(93448);let l=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto rounded-lg border border-gray-200 shadow-sm",children:(0,s.jsx)("table",{ref:t,className:(0,a.cn)("w-full caption-bottom text-sm",r),...i})})});l.displayName="Table";let n=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,s.jsx)("thead",{ref:t,className:(0,a.cn)("bg-gradient-to-r from-blue-50 to-indigo-50 [&_tr]:border-b [&_tr]:border-gray-200",r),...i})});n.displayName="TableHeader";let d=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,a.cn)("[&_tr:last-child]:border-0 [&_tr]:border-b [&_tr]:border-gray-100",r),...i})});d.displayName="TableBody",i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,a.cn)("border-t bg-gray-50/80 font-medium [&>tr]:last:border-b-0",r),...i})}).displayName="TableFooter";let o=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,s.jsx)("tr",{ref:t,className:(0,a.cn)("border-b transition-colors hover:bg-blue-50/50 data-[state=selected]:bg-blue-100",r),...i})});o.displayName="TableRow";let c=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,s.jsx)("th",{ref:t,className:(0,a.cn)("h-12 px-4 text-left align-middle font-semibold text-gray-700 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...i})});c.displayName="TableHead";let m=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,s.jsx)("td",{ref:t,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...i})});m.displayName="TableCell",i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,s.jsx)("caption",{ref:t,className:(0,a.cn)("mt-4 text-sm text-gray-500",r),...i})}).displayName="TableCaption"},28934:function(e,t,r){"use strict";r.d(t,{W:function(){return s}});let s=[{id:1,driver:1,latitude:17.385,longitude:78.4867,speed:0,timestamp:"2024-11-30T09:15:00Z",os_version:"Android 13",battery_level:15,signal_strength:1},{id:2,driver:2,latitude:23.0225,longitude:72.5714,speed:45.5,timestamp:"2024-11-30T09:20:00Z",os_version:"Android 12",battery_level:85,signal_strength:4},{id:3,driver:3,latitude:13.0827,longitude:80.2707,speed:0,timestamp:"2024-11-30T09:25:00Z",os_version:"iOS 17.1",battery_level:5,signal_strength:0},{id:4,driver:4,latitude:12.9716,longitude:77.5946,speed:32.8,timestamp:"2024-11-30T09:30:00Z",os_version:"Android 14",battery_level:45,signal_strength:3},{id:5,driver:5,latitude:null,longitude:null,speed:0,timestamp:"2024-11-30T09:35:00Z",os_version:"Android 13",battery_level:0,signal_strength:0},{id:6,driver:6,latitude:18.5204,longitude:73.8567,speed:55.7,timestamp:"2024-11-30T09:40:00Z",os_version:"iOS 16.5",battery_level:73,signal_strength:4},{id:7,driver:7,latitude:8.5241,longitude:76.9366,speed:0,timestamp:"2024-11-30T09:45:00Z",os_version:"Android 12",battery_level:62,signal_strength:5},{id:8,driver:8,latitude:17.385,longitude:78.4867,speed:25.9,timestamp:"2024-11-30T09:50:00Z",os_version:"iOS 17.2",battery_level:88,signal_strength:5},{id:9,driver:9,latitude:22.5726,longitude:88.3639,speed:0,timestamp:"2024-11-30T08:55:00Z",os_version:"Android 13",battery_level:35,signal_strength:2},{id:10,driver:10,latitude:18.5236,longitude:73.8478,speed:42.1,timestamp:"2024-11-30T10:00:00Z",os_version:"Android 14",battery_level:95,signal_strength:4},{id:11,driver:11,latitude:null,longitude:null,speed:null,timestamp:"2024-11-30T08:05:00Z",os_version:"iOS 16.5",battery_level:28,signal_strength:0},{id:12,driver:12,latitude:13.0827,longitude:80.2707,speed:0,timestamp:"2024-11-30T10:10:00Z",os_version:"Android 13",battery_level:32,signal_strength:2}]},88363:function(e,t,r){"use strict";r.d(t,{u:function(){return s}});let s=[{id:1,trip:1,start_idle_time:"2024-11-30T08:25:00Z",end_idle_time:"2024-11-30T08:40:00Z",timestamp:"2024-11-30T08:40:00Z",latitude:17.4147,longitude:78.3816},{id:2,trip:2,start_idle_time:"2024-11-30T09:15:00Z",end_idle_time:"2024-11-30T09:50:00Z",timestamp:"2024-11-30T09:50:00Z",latitude:17.4319,longitude:78.4073},{id:3,trip:3,start_idle_time:"2024-11-30T09:30:00Z",end_idle_time:"2024-11-30T09:45:00Z",timestamp:"2024-11-30T09:45:00Z",latitude:17.5326,longitude:78.2646},{id:4,trip:5,start_idle_time:"2024-11-30T10:20:00Z",end_idle_time:"2024-11-30T10:35:00Z",timestamp:"2024-11-30T10:35:00Z",latitude:17.2403,longitude:78.4294},{id:5,trip:7,start_idle_time:"2024-11-30T11:40:00Z",end_idle_time:"2024-11-30T11:55:00Z",timestamp:"2024-11-30T11:55:00Z",latitude:17.5453,longitude:78.5738},{id:6,trip:8,start_idle_time:"2024-11-30T11:45:00Z",end_idle_time:"2024-11-30T12:00:00Z",timestamp:"2024-11-30T12:00:00Z",latitude:17.6252,longitude:78.4801},{id:7,trip:9,start_idle_time:"2024-11-30T12:15:00Z",end_idle_time:"2024-11-30T12:25:00Z",timestamp:"2024-11-30T12:25:00Z",latitude:17.44,longitude:78.3489},{id:8,trip:2,start_idle_time:"2024-11-30T10:15:00Z",end_idle_time:"2024-11-30T10:25:00Z",timestamp:"2024-11-30T10:25:00Z",latitude:17.4325,longitude:78.408},{id:9,trip:5,start_idle_time:"2024-11-30T11:10:00Z",end_idle_time:"2024-11-30T11:20:00Z",timestamp:"2024-11-30T11:20:00Z",latitude:17.241,longitude:78.43},{id:10,trip:8,start_idle_time:"2024-11-30T12:30:00Z",end_idle_time:"2024-11-30T12:35:00Z",timestamp:"2024-11-30T12:35:00Z",latitude:17.626,longitude:78.481}]},11825:function(e,t,r){"use strict";r.d(t,{_:function(){return s}});let s=[{id:1,trip:7,speed:45.2,start_speed_time:"2024-11-30T11:35:00Z",end_speed_time:"2024-11-30T11:45:00Z",timestamp:"2024-11-30T11:45:00Z",latitude:17.5453,longitude:78.5738},{id:2,trip:8,speed:95.5,start_speed_time:"2024-11-30T11:45:00Z",end_speed_time:"2024-11-30T12:00:00Z",timestamp:"2024-11-30T12:00:00Z",latitude:17.6252,longitude:78.4801},{id:3,trip:5,speed:85.2,start_speed_time:"2024-11-30T10:40:00Z",end_speed_time:"2024-11-30T10:50:00Z",timestamp:"2024-11-30T10:50:00Z",latitude:17.2403,longitude:78.4294},{id:4,trip:2,speed:42.5,start_speed_time:"2024-11-30T09:20:00Z",end_speed_time:"2024-11-30T09:30:00Z",timestamp:"2024-11-30T09:30:00Z",latitude:17.4319,longitude:78.4073},{id:5,trip:3,speed:58.5,start_speed_time:"2024-11-30T09:15:00Z",end_speed_time:"2024-11-30T09:25:00Z",timestamp:"2024-11-30T09:25:00Z",latitude:17.5326,longitude:78.2646},{id:6,trip:9,speed:82.3,start_speed_time:"2024-11-30T12:20:00Z",end_speed_time:"2024-11-30T12:30:00Z",timestamp:"2024-11-30T12:30:00Z",latitude:17.44,longitude:78.3489},{id:7,trip:6,speed:65.4,start_speed_time:"2024-11-30T10:40:00Z",end_speed_time:"2024-11-30T10:50:00Z",timestamp:"2024-11-30T10:50:00Z",latitude:17.6387,longitude:78.5622},{id:8,trip:1,speed:58.8,start_speed_time:"2024-11-30T08:30:00Z",end_speed_time:"2024-11-30T08:40:00Z",timestamp:"2024-11-30T08:40:00Z",latitude:17.4147,longitude:78.3816},{id:9,trip:5,speed:82.5,start_speed_time:"2024-11-30T11:00:00Z",end_speed_time:"2024-11-30T11:10:00Z",timestamp:"2024-11-30T11:10:00Z",latitude:17.241,longitude:78.43},{id:10,trip:8,speed:98.5,start_speed_time:"2024-11-30T12:15:00Z",end_speed_time:"2024-11-30T12:25:00Z",timestamp:"2024-11-30T12:25:00Z",latitude:17.626,longitude:78.481}]},13520:function(e,t,r){"use strict";r.d(t,{j:function(){return a}});var s=r(97853),i=r.n(s);let a=async e=>{let{data:t,filename:r="export",sheetName:s="Sheet1",format:a="xlsx",columnMapping:n={},includeColumns:d,excludeColumns:o=[],transformData:c,dateFormat:m="yyyy-mm-dd"}=e;if(!t.length){console.warn("No data to export");return}try{let e;let u=new(i()).Workbook,p=u.addWorksheet(s),f=Object.keys(t[0]),g=d||f,x=(g=g.filter(e=>!o.includes(e))).map(e=>({header:n[e]||String(e),key:String(e)}));p.columns=x;let h=t.map(e=>{let t=c?c(e):e,r={};return g.forEach(e=>{let s=t[e];s instanceof Date&&(s=l(s,m)),r[String(e)]=s}),r});p.addRows(h),p.columns.forEach(e=>{var t;if(!e)return;let r=0;null===(t=e.eachCell)||void 0===t||t.call(e,{includeEmpty:!0},e=>{let t=e.value?e.value.toString().length:10;t>r&&(r=t)}),e.width=Math.min(r+2,30)}),"csv"===a?(e=await u.csv.writeBuffer(),r="".concat(r,".csv")):(e=await u.xlsx.writeBuffer(),r="".concat(r,".xlsx"));let v=new Blob([e],{type:"csv"===a?"text/csv;charset=utf-8;":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),b=document.createElement("a");b.href=window.URL.createObjectURL(v),b.download=r,b.click(),window.URL.revokeObjectURL(b.href)}catch(e){throw console.error("Export failed:",e),Error("Failed to export data: ".concat(e))}},l=(e,t)=>{let r=new Date(e),s=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),a=String(r.getDate()).padStart(2,"0");return t.replace("yyyy",s.toString()).replace("mm",i).replace("dd",a)}}},function(e){e.O(0,[3113,6137,4154,6008,2080,2033,5176,5191,2971,2117,1744],function(){return e(e.s=77003)}),_N_E=e.O()}]);