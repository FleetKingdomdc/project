(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[438],{47274:function(e,s,t){Promise.resolve().then(t.bind(t,75230))},75797:function(e,s,t){"use strict";var a=t(57437),r=t(30166),n=t(15863),l=t(2265),i=t(98151);function d(){var e,s,t;let r=(0,i.N)();return(0,a.jsx)("div",{className:"h-full w-full flex items-center justify-center bg-muted/20 rounded-lg",children:(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsx)(n.Z,{className:"w-8 h-8 animate-spin mx-auto text-primary-500"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:null!==(t=null==r?void 0:null===(s=r.drivers)||void 0===s?void 0:null===(e=s.labels)||void 0===e?void 0:e.loadingMap)&&void 0!==t?t:"Loading map..."})]})})}let c=(0,r.default)(()=>Promise.all([t.e(5641),t.e(4212),t.e(100)]).then(t.bind(t,60100)),{loadableGenerated:{webpack:()=>[60100]},ssr:!1,loading:()=>(0,a.jsx)(d,{})});s.Z=e=>{let{center:s,zoom:t,markerPosition:r,popupContent:n,onMapReady:i,mapRef:d,path:o}=e,x=(0,l.useRef)(null);return(0,a.jsx)(c,{center:s,zoom:t,markerPosition:r,popupContent:n,onMapReady:i,mapRef:d||x,path:o})}},75230:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var a=t(57437),r=t(2265),n=t(79820),l=t(40279),i=t(12381),d=t(69174),c=t(31593),o=t(75797),x=t(98151),m=t(91723),u=t(65302),h=t(40340),j=t(44794),p=t(22252),f=t(78406),g=t(31047),v=t(92369),N=t(83774),b=t(77877);function y(){var e,s,y,w,Z,C,L,I,_,k,S;(0,x.N)();let[D,M]=(0,r.useState)(""),[O,Y]=(0,r.useState)(!1),[A,R]=(0,r.useState)(null),[z,E]=(0,r.useState)(null),[P,F]=(0,r.useState)(null),B=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"received":return"bg-blue-100 text-blue-800 border-blue-300";case"in_transit":return"bg-purple-100 text-purple-800 border-purple-300";case"delivered":return"bg-green-100 text-green-800 border-green-300";case"rejected":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},G=e=>{switch(e){case"pending":return(0,a.jsx)(m.Z,{className:"h-4 w-4"});case"received":return(0,a.jsx)(u.Z,{className:"h-4 w-4"});case"in_transit":return(0,a.jsx)(h.Z,{className:"h-4 w-4"});case"delivered":default:return(0,a.jsx)(j.Z,{className:"h-4 w-4"});case"rejected":return(0,a.jsx)(p.Z,{className:"h-4 w-4"})}},H=e=>({pending:"قيد المراجعة",received:"تم التأكيد",in_transit:"في الطريق",delivered:"تم التسليم",rejected:"مرفوض"})[e]||e,K=async()=>{if(D.trim()){Y(!0),R(null),E(null);try{let{trackOrder:e}=await t.e(5873).then(t.bind(t,55873)),s=await e(D.trim()),a={...s,currentLocation:s.currentLocation||{lat:24.7136,lng:46.6753},path:s.path||[],customerInfo:{name:"أحمد محمد",phone:"+966 50 123 4567",email:"ahmed@example.com"},estimatedDelivery:new Date(Date.now()+72e5).toLocaleString("ar-SA"),driverInfo:{name:"محمد السعدي",phone:"+966 55 987 6543",vehicleModel:"Toyota Hiace",plateNumber:"ABC-1234"},timeline:[{status:"received",timestamp:new Date(Date.now()-144e5).toLocaleString("ar-SA"),location:s.fromCity,description:"تم استلام الطلب وتأكيد البيانات"},{status:"in_transit",timestamp:new Date(Date.now()-72e5).toLocaleString("ar-SA"),location:"الطريق السريع",description:"تم شحن الطلب وهو في الطريق"}]};if(E(a),"in_transit"===a.status){let e=setInterval(()=>{E(e=>e?{...e,currentLocation:{lat:e.currentLocation.lat+(Math.random()-.5)*.01,lng:e.currentLocation.lng+(Math.random()-.5)*.01}}:e)},3e4);F(e)}}catch(e){R((null==e?void 0:e.message)||"Failed to fetch tracking info")}finally{Y(!1)}}};return(0,r.useEffect)(()=>()=>{P&&clearInterval(P)},[P]),(0,a.jsxs)("div",{className:"p-4 space-y-6 max-w-6xl mx-auto",children:[(0,a.jsxs)(n.Zb,{children:[(0,a.jsx)(n.Ol,{children:(0,a.jsxs)(n.ll,{className:"flex items-center gap-3",children:[(0,a.jsx)(j.Z,{className:"h-6 w-6 text-blue-600"}),"تتبع الشحنة"]})}),(0,a.jsxs)(n.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(l.I,{placeholder:"أدخل رقم الطلب (مثال: ORD-1001)",value:D,onChange:e=>M(e.target.value),className:"text-right",onKeyPress:e=>"Enter"===e.key&&K()}),(0,a.jsx)(i.z,{onClick:K,disabled:O,className:"px-8",children:O?"جاري البحث...":"تتبع"})]}),A&&(0,a.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:(0,a.jsx)("p",{className:"text-sm text-red-700",children:A})})]})]}),z&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(n.Zb,{children:(0,a.jsx)(n.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg ".concat(B(z.status)),children:G(z.status)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"حالة الطلب"}),(0,a.jsx)("p",{className:"font-semibold",children:H(z.status)})]})]})})}),(0,a.jsx)(n.Zb,{children:(0,a.jsx)(n.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,a.jsx)(f.Z,{className:"h-4 w-4 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"المسار"}),(0,a.jsxs)("p",{className:"font-semibold",children:[z.fromCity," ← ",z.toCity]})]})]})})}),(0,a.jsx)(n.Zb,{children:(0,a.jsx)(n.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)(g.Z,{className:"h-4 w-4 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"الوصول المتوقع"}),(0,a.jsx)("p",{className:"font-semibold text-sm",children:z.estimatedDelivery})]})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(n.Zb,{children:[(0,a.jsx)(n.Ol,{children:(0,a.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"h-5 w-5"}),"تفاصيل الطلب"]})}),(0,a.jsxs)(n.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"رقم الطلب"}),(0,a.jsx)("p",{className:"font-semibold",children:z.id})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"الحالة"}),(0,a.jsx)(d.C,{className:B(z.status),children:H(z.status)})]})]}),(0,a.jsx)(c.Z,{}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,a.jsx)(v.Z,{className:"h-4 w-4"}),"معلومات العميل"]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"الاسم:"}),(0,a.jsx)("span",{children:null===(e=z.customerInfo)||void 0===e?void 0:e.name})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"الجوال:"}),(0,a.jsx)("span",{children:null===(s=z.customerInfo)||void 0===s?void 0:s.phone})]})]})]}),z.driverInfo&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4"}),"معلومات السائق"]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"الاسم:"}),(0,a.jsx)("span",{children:z.driverInfo.name})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"الجوال:"}),(0,a.jsx)("span",{children:z.driverInfo.phone})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"المركبة:"}),(0,a.jsx)("span",{children:z.driverInfo.vehicleModel})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"اللوحة:"}),(0,a.jsx)("span",{children:z.driverInfo.plateNumber})]})]})]})]})]})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsx)(n.Ol,{children:(0,a.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"h-5 w-5"}),"تاريخ الطلب"]})}),(0,a.jsx)(n.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:null===(y=z.timeline)||void 0===y?void 0:y.map((e,s)=>(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-full ".concat(B(e.status)),children:G(e.status)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-semibold text-sm",children:H(e.status)}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)(m.Z,{className:"h-3 w-3 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.timestamp}),e.location&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.Z,{className:"h-3 w-3 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.location})]})]})]})]},s))})})]})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsx)(n.Ol,{children:(0,a.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(b.Z,{className:"h-5 w-5"}),"الموقع الحالي","in_transit"===z.status&&(0,a.jsx)(d.C,{className:"bg-green-100 text-green-800",children:"تحديث مباشر"})]})}),(0,a.jsx)(n.aY,{className:"p-0",children:(0,a.jsx)("div",{className:"relative w-full h-[400px] rounded-b-lg overflow-hidden",children:(0,a.jsx)(o.Z,{center:[null!==(I=null===(w=z.currentLocation)||void 0===w?void 0:w.lat)&&void 0!==I?I:24.7136,null!==(_=null===(Z=z.currentLocation)||void 0===Z?void 0:Z.lng)&&void 0!==_?_:46.6753],zoom:12,markerPosition:[null!==(k=null===(C=z.currentLocation)||void 0===C?void 0:C.lat)&&void 0!==k?k:24.7136,null!==(S=null===(L=z.currentLocation)||void 0===L?void 0:L.lng)&&void 0!==S?S:46.6753],popupContent:"طلب رقم: ".concat(z.id),onMapReady:()=>{},path:Array.isArray(z.path)?z.path:[]})})})]})]})]})}},69174:function(e,s,t){"use strict";t.d(s,{C:function(){return i}});var a=t(57437);t(2265);var r=t(90535),n=t(93448);let l=(0,r.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(l({variant:t}),s),...r})}},31593:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});var a=t(57437),r=t(55156),n=t(2265),l=t(93448);let i=n.forwardRef((e,s)=>{let{className:t,orientation:n="horizontal",decorative:i=!0,...d}=e;return(0,a.jsx)(r.f,{ref:s,decorative:i,orientation:n,className:(0,l.cn)("shrink-0 bg-gradient-to-r from-transparent via-gray-300 to-transparent","horizontal"===n?"h-px w-full my-4":"h-full w-px mx-4",t),...d})});i.displayName=r.f.displayName}},function(e){e.O(0,[6137,9911,6331,2971,2117,1744],function(){return e(e.s=47274)}),_N_E=e.O()}]);